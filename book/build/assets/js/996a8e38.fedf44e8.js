"use strict";(globalThis.webpackChunkmy_book_site=globalThis.webpackChunkmy_book_site||[]).push([[850],{7550:(e,n,i)=>{i.d(n,{A:()=>r});i(6540);var s=i(4848);function r({title:e,description:n,children:i}){return(0,s.jsxs)("div",{className:"robotics-diagram",children:[(0,s.jsx)("h4",{children:e}),(0,s.jsx)("div",{children:i}),(0,s.jsxs)("details",{children:[(0,s.jsx)("summary",{children:"Diagram Description (Alt-text)"}),(0,s.jsx)("p",{children:n})]})]})}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var s=i(6540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}},9752:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"chapter1-ros2","title":"Chapter 1: ROS 2 Fundamentals - The Robotic Nervous System","description":"Introduction to ROS 2","source":"@site/docs/chapter1-ros2.md","sourceDirName":".","slug":"/chapter1-ros2","permalink":"/my_book/docs/chapter1-ros2","draft":false,"unlisted":false,"editUrl":"https://github.com/Ayesha788/my_book/tree/main/docs/chapter1-ros2.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Environment Setup","permalink":"/my_book/docs/environment-setup"},"next":{"title":"Chapter 2: Digital Twin - Simulating Humanoid Robots","permalink":"/my_book/docs/chapter2-digital-twin"}}');var r=i(4848),t=i(8453),o=i(7550);const l={},a="Chapter 1: ROS 2 Fundamentals - The Robotic Nervous System",c={},d=[{value:"Introduction to ROS 2",id:"introduction-to-ros-2",level:2},{value:"ROS 2 Architecture",id:"ros-2-architecture",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics and Messages",id:"topics-and-messages",level:3},{value:"Services",id:"services",level:3},{value:"Setting up Your ROS 2 Environment",id:"setting-up-your-ros-2-environment",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Installation",id:"installation",level:3},{value:"Environment Setup",id:"environment-setup",level:3},{value:"Creating Your First ROS 2 Package",id:"creating-your-first-ros-2-package",level:2},{value:"Basic Publisher-Subscriber Example",id:"basic-publisher-subscriber-example",level:2},{value:"Publisher Code (publisher_member_function.py)",id:"publisher-code-publisher_member_functionpy",level:3},{value:"Subscriber Code (subscriber_member_function.py)",id:"subscriber-code-subscriber_member_functionpy",level:3},{value:"Running the Publisher-Subscriber Example",id:"running-the-publisher-subscriber-example",level:2},{value:"Working with URDF Models",id:"working-with-urdf-models",level:2},{value:"Simple URDF Example",id:"simple-urdf-example",level:3},{value:"Visualizing URDF in RViz",id:"visualizing-urdf-in-rviz",level:2},{value:"Practice Tasks",id:"practice-tasks",level:2},{value:"Summary",id:"summary",level:2}];function h(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"chapter-1-ros-2-fundamentals---the-robotic-nervous-system",children:"Chapter 1: ROS 2 Fundamentals - The Robotic Nervous System"})}),"\n",(0,r.jsx)(n.h2,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 (Robot Operating System 2) is a flexible framework for writing robot software. It's a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robot platforms."}),"\n",(0,r.jsx)(n.p,{children:"Unlike traditional operating systems, ROS 2 is not an actual OS but rather a middleware that provides services designed for a heterogeneous computer cluster. It includes hardware abstraction, device drivers, libraries, visualizers, message-passing, package management, and more."}),"\n",(0,r.jsx)(n.h2,{id:"ros-2-architecture",children:"ROS 2 Architecture"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 uses a client library architecture with multiple client libraries (rcl) that wrap the underlying DDS (Data Distribution Service) implementation. This provides a clean separation between the application code and the middleware implementation."}),"\n","\n",(0,r.jsx)(o.A,{title:"ROS 2 Architecture Overview",description:"A diagram showing the layered architecture of ROS 2. At the bottom is the DDS/RTPS layer which handles network communication. Above it is the rcl layer (ROS Client Library) which provides common functionality. Then comes the client libraries like rclpy and rclcpp. At the top are the application nodes that communicate through topics, services, and actions.",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"ROS 2 Architecture Diagram would be displayed here"})})}),"\n",(0,r.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsx)(n.p,{children:"A node is an executable that uses ROS 2 to communicate with other nodes. Nodes are the fundamental building blocks of a ROS 2 program. They allow your code to perform computation and interact with the ROS 2 ecosystem."}),"\n",(0,r.jsx)(n.h3,{id:"topics-and-messages",children:"Topics and Messages"}),"\n",(0,r.jsx)(n.p,{children:"Topics are named buses over which nodes exchange messages. A node can publish messages to a topic or subscribe to messages from a topic. This publish/subscribe communication model allows for asynchronous communication between nodes."}),"\n",(0,r.jsx)(o.A,{title:"ROS 2 Publish-Subscribe Model",description:"A diagram showing the publish-subscribe communication pattern in ROS 2. There is a publisher node on the left labeled 'Publisher Node' with an arrow pointing to a central topic named '/sensor_data'. From the topic, an arrow points to two subscriber nodes on the right labeled 'Subscriber Node 1' and 'Subscriber Node 2'. This illustrates how one publisher can send data to multiple subscribers.",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Publish-Subscribe Model Diagram would be displayed here"})})}),"\n",(0,r.jsxs)(n.p,{children:["Messages are data structures that are exchanged between nodes. They are defined in special files with the ",(0,r.jsx)(n.code,{children:".msg"})," extension and are used to define the data exchanged in ROS 2."]}),"\n",(0,r.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,r.jsx)(n.p,{children:"Services provide a request/reply communication pattern. Unlike the asynchronous publish/subscribe model of topics, services are synchronous and block until a response is received."}),"\n",(0,r.jsx)(o.A,{title:"ROS 2 Service Communication",description:"A diagram showing the service communication pattern in ROS 2. A client node on the left labeled 'Service Client' sends a request to a central service named '/move_robot'. The service processes the request and sends a response back to the client. This illustrates the synchronous request-response pattern.",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/img/diagrams/service-communication.svg",alt:"Service Communication"})})}),"\n",(0,r.jsx)(n.h2,{id:"setting-up-your-ros-2-environment",children:"Setting up Your ROS 2 Environment"}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"Before starting with ROS 2, ensure you have:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ubuntu 22.04 (Jammy) or Windows 10/11 with WSL2"}),"\n",(0,r.jsx)(n.li,{children:"Python 3.8 or higher"}),"\n",(0,r.jsx)(n.li,{children:"Git"}),"\n",(0,r.jsx)(n.li,{children:"Basic knowledge of Linux command line"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.p,{children:"For Ubuntu users, install ROS 2 Humble Hawksbill (long-term support release):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Add the ROS 2 apt repository\nsudo apt update && sudo apt install -y curl gnupg lsb-release\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\n\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(source /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\n\nsudo apt update\nsudo apt install ros-humble-desktop\n'})}),"\n",(0,r.jsx)(n.p,{children:"For Windows users, install WSL2 with Ubuntu 22.04 and follow the Ubuntu installation instructions."}),"\n",(0,r.jsx)(n.h3,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,r.jsx)(n.p,{children:"After installation, source the ROS 2 environment:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"source /opt/ros/humble/setup.bash\n"})}),"\n",(0,r.jsxs)(n.p,{children:["To make this permanent, add the following line to your ",(0,r.jsx)(n.code,{children:"~/.bashrc"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'echo "source /opt/ros/humble/setup.bash" >> ~/.bashrc\n'})}),"\n",(0,r.jsx)(n.h2,{id:"creating-your-first-ros-2-package",children:"Creating Your First ROS 2 Package"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 organizes code into packages. Let's create a simple package:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Create a workspace\nmkdir -p ~/ros2_ws/src\ncd ~/ros2_ws\n\n# Create a package\ncolcon build\nsource install/setup.bash\ncd src\nros2 pkg create --build-type ament_python my_robot_pkg --dependencies rclpy std_msgs\n"})}),"\n",(0,r.jsx)(n.h2,{id:"basic-publisher-subscriber-example",children:"Basic Publisher-Subscriber Example"}),"\n",(0,r.jsx)(n.p,{children:"Let's create a simple publisher and subscriber to understand the communication model:"}),"\n",(0,r.jsx)(n.h3,{id:"publisher-code-publisher_member_functionpy",children:"Publisher Code (publisher_member_function.py)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Hello World: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"subscriber-code-subscriber_member_functionpy",children:"Subscriber Code (subscriber_member_function.py)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalSubscriber(Node):\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_subscriber = MinimalSubscriber()\n    rclpy.spin(minimal_subscriber)\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"running-the-publisher-subscriber-example",children:"Running the Publisher-Subscriber Example"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open two terminal windows"}),"\n",(0,r.jsxs)(n.li,{children:["In both terminals, navigate to your workspace and source the setup file:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\nsource install/setup.bash\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["In the first terminal, run the publisher:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 run my_robot_pkg publisher_member_function\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["In the second terminal, run the subscriber:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 run my_robot_pkg subscriber_member_function\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You should see the publisher sending messages and the subscriber receiving them."}),"\n",(0,r.jsx)(n.h2,{id:"working-with-urdf-models",children:"Working with URDF Models"}),"\n",(0,r.jsx)(n.p,{children:"URDF (Unified Robot Description Format) is an XML format used to describe robot models in ROS. It defines the physical and visual properties of a robot."}),"\n",(0,r.jsx)(n.h3,{id:"simple-urdf-example",children:"Simple URDF Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_robot">\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.5 0.5"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n  </link>\n\n  <link name="sensor_link">\n    <visual>\n      <geometry>\n        <cylinder radius="0.05" length="0.1"/>\n      </geometry>\n      <material name="red">\n        <color rgba="1 0 0 1"/>\n      </material>\n    </visual>\n  </link>\n\n  <joint name="sensor_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="sensor_link"/>\n    <origin xyz="0.3 0 0"/>\n  </joint>\n</robot>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"visualizing-urdf-in-rviz",children:"Visualizing URDF in RViz"}),"\n",(0,r.jsx)(n.p,{children:"RViz is ROS's 3D visualization tool. To visualize your URDF model:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Launch RViz:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rviz2\n"})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Add a RobotModel display"}),"\n",(0,r.jsx)(n.li,{children:"Set the Robot Description parameter to your URDF file"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"practice-tasks",children:"Practice Tasks"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a new ROS 2 package called ",(0,r.jsx)(n.code,{children:"humanoid_control"})]}),"\n",(0,r.jsx)(n.li,{children:"Implement a publisher that sends joint position commands"}),"\n",(0,r.jsx)(n.li,{children:"Create a subscriber that logs received sensor data"}),"\n",(0,r.jsx)(n.li,{children:"Design a simple URDF model for a basic humanoid robot with at least 5 links"}),"\n",(0,r.jsx)(n.li,{children:"Load your URDF model in RViz and verify it displays correctly"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"In this chapter, you've learned the fundamentals of ROS 2, including:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The core concepts of nodes, topics, and services"}),"\n",(0,r.jsx)(n.li,{children:"How to set up your ROS 2 environment"}),"\n",(0,r.jsx)(n.li,{children:"How to create and run simple publisher-subscriber examples"}),"\n",(0,r.jsx)(n.li,{children:"How to work with URDF models for robot description"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These concepts form the foundation for controlling humanoid robots and will be essential as you progress through the rest of this book."})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);