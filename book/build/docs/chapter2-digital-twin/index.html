<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-chapter2-digital-twin" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Chapter 2: Digital Twin - Simulating Humanoid Robots | Physical AI &amp; Humanoid Robotics Hackathon Book</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ayesha788.github.io/my_book/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ayesha788.github.io/my_book/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ayesha788.github.io/my_book/docs/chapter2-digital-twin"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chapter 2: Digital Twin - Simulating Humanoid Robots | Physical AI &amp; Humanoid Robotics Hackathon Book"><meta data-rh="true" name="description" content="Introduction to Digital Twin Technology"><meta data-rh="true" property="og:description" content="Introduction to Digital Twin Technology"><link data-rh="true" rel="icon" href="/my_book/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ayesha788.github.io/my_book/docs/chapter2-digital-twin"><link data-rh="true" rel="alternate" href="https://ayesha788.github.io/my_book/docs/chapter2-digital-twin" hreflang="en"><link data-rh="true" rel="alternate" href="https://ayesha788.github.io/my_book/docs/chapter2-digital-twin" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Chapter 2: Digital Twin - Simulating Humanoid Robots","item":"https://ayesha788.github.io/my_book/docs/chapter2-digital-twin"}]}</script><link rel="stylesheet" href="/my_book/assets/css/styles.26d1bab7.css">
<script src="/my_book/assets/js/runtime~main.cc4ca827.js" defer="defer"></script>
<script src="/my_book/assets/js/main.3daa9b1f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/my_book/"><div class="navbar__logo"><img src="/my_book/img/logo.svg" alt="Physical AI &amp; Robotics Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/my_book/img/logo.svg" alt="Physical AI &amp; Robotics Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Robotics Book</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/my_book/docs/intro">Book Chapters</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/Ayesha788/my_book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my_book/docs/intro"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my_book/docs/environment-setup"><span title="Environment Setup" class="linkLabel_WmDU">Environment Setup</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter1-ros2"><span title="ROS 2 Fundamentals" class="categoryLinkLabel_W154">ROS 2 Fundamentals</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/my_book/docs/chapter2-digital-twin"><span title="Digital Twin &amp; Simulation" class="categoryLinkLabel_W154">Digital Twin &amp; Simulation</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/my_book/docs/chapter2-digital-twin"><span title="Chapter 2: Digital Twin - Simulating Humanoid Robots" class="linkLabel_WmDU">Chapter 2: Digital Twin - Simulating Humanoid Robots</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter3-isaac"><span title="AI-Robot Brain" class="categoryLinkLabel_W154">AI-Robot Brain</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter4-vla"><span title="Vision-Language-Action" class="categoryLinkLabel_W154">Vision-Language-Action</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter5-path-planning"><span title="Path Planning &amp; Navigation" class="categoryLinkLabel_W154">Path Planning &amp; Navigation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter6-computer-vision"><span title="Computer Vision" class="categoryLinkLabel_W154">Computer Vision</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter7-manipulation"><span title="Manipulation &amp; Grasping" class="categoryLinkLabel_W154">Manipulation &amp; Grasping</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter8-multirobot"><span title="Multi-Robot Coordination" class="categoryLinkLabel_W154">Multi-Robot Coordination</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter9-learning"><span title="Learning &amp; Adaptation" class="categoryLinkLabel_W154">Learning &amp; Adaptation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter10-hri"><span title="Human-Robot Interaction" class="categoryLinkLabel_W154">Human-Robot Interaction</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter11-safety"><span title="Safety &amp; Ethics" class="categoryLinkLabel_W154">Safety &amp; Ethics</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/chapter12-future"><span title="Future Trends &amp; Applications" class="categoryLinkLabel_W154">Future Trends &amp; Applications</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/practice-tasks-ros2"><span title="Practice Tasks" class="categoryLinkLabel_W154">Practice Tasks</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/my_book/docs/glossary"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/my_book/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Digital Twin &amp; Simulation</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Chapter 2: Digital Twin - Simulating Humanoid Robots</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1 id="chapter-2-digital-twin---simulating-humanoid-robots">Chapter 2: Digital Twin - Simulating Humanoid Robots</h1></header>
<h2 id="introduction-to-digital-twin-technology">Introduction to Digital Twin Technology</h2>
<p>Digital Twin technology creates virtual replicas of physical systems, allowing for simulation, analysis, and optimization before implementing in the real world. In robotics, digital twins are crucial for testing and validating robot behaviors in safe, controlled virtual environments before deployment on actual hardware.</p>
<p>For humanoid robotics, digital twins enable:</p>
<ul>
<li>Safe testing of complex locomotion algorithms</li>
<li>Sensor simulation and validation</li>
<li>Physics-based interaction testing</li>
<li>Control system development without hardware risk</li>
</ul>
<h2 id="gazebo-simulation-environment">Gazebo Simulation Environment</h2>
<p>Gazebo is a powerful 3D simulation environment that provides realistic physics simulation, high-quality graphics, and convenient programmatic interfaces. It&#x27;s widely used in the ROS ecosystem for robotics simulation.</p>
<h3 id="key-features-of-gazebo">Key Features of Gazebo:</h3>
<ul>
<li>Physics simulation with ODE, Bullet, Simbody, or DART engines</li>
<li>High-quality graphics rendering</li>
<li>Sensor simulation (cameras, LiDAR, IMU, etc.)</li>
<li>Realistic lighting and environment modeling</li>
<li>Plugin architecture for custom functionality</li>
</ul>
<h3 id="installing-gazebo-with-ros-2">Installing Gazebo with ROS 2</h3>
<p>For ROS 2 Humble, Gazebo can be installed as part of the desktop package or separately:</p>
<pre><code class="language-bash"># Install Gazebo Garden (recommended for ROS 2 Humble)
sudo apt install ros-humble-gazebo-*

# Install the ROS 2 Gazebo bridge
sudo apt install ros-humble-gazebo-ros-pkgs
</code></pre>
<h2 id="setting-up-a-humanoid-robot-in-gazebo">Setting up a Humanoid Robot in Gazebo</h2>
<h3 id="robot-configuration">Robot Configuration</h3>
<p>To simulate a humanoid robot in Gazebo, you need:</p>
<ol>
<li><strong>URDF Model</strong>: A detailed robot description file</li>
<li><strong>Gazebo Plugins</strong>: For physics simulation and sensor integration</li>
<li><strong>Launch Files</strong>: To start the simulation with proper configuration</li>
</ol>
<h3 id="example-gazebo-integration-in-urdf">Example Gazebo Integration in URDF</h3>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;robot name=&quot;humanoid_robot&quot; xmlns:xacro=&quot;http://www.ros.org/wiki/xacro&quot;&gt;
  &lt;!-- Include Gazebo-specific plugins --&gt;
  &lt;gazebo&gt;
    &lt;plugin name=&quot;gazebo_ros_control&quot; filename=&quot;libgazebo_ros_control.so&quot;&gt;
      &lt;robotNamespace&gt;/humanoid_robot&lt;/robotNamespace&gt;
    &lt;/plugin&gt;
  &lt;/gazebo&gt;

  &lt;!-- Link definitions with Gazebo properties --&gt;
  &lt;link name=&quot;base_link&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;0.2 0.1 0.1&quot;/&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
    &lt;collision&gt;
      &lt;geometry&gt;
        &lt;box size=&quot;0.2 0.1 0.1&quot;/&gt;
      &lt;/geometry&gt;
    &lt;/collision&gt;
    &lt;inertial&gt;
      &lt;mass value=&quot;5.0&quot;/&gt;
      &lt;inertia ixx=&quot;0.1&quot; ixy=&quot;0.0&quot; ixz=&quot;0.0&quot; iyy=&quot;0.1&quot; iyz=&quot;0.0&quot; izz=&quot;0.1&quot;/&gt;
    &lt;/inertial&gt;
  &lt;/link&gt;

  &lt;!-- Example joint with physics properties --&gt;
  &lt;joint name=&quot;hip_joint&quot; type=&quot;revolute&quot;&gt;
    &lt;parent link=&quot;base_link&quot;/&gt;
    &lt;child link=&quot;left_leg&quot;/&gt;
    &lt;origin xyz=&quot;0 0.1 -0.1&quot; rpy=&quot;0 0 0&quot;/&gt;
    &lt;axis xyz=&quot;0 0 1&quot;/&gt;
    &lt;limit lower=&quot;-1.57&quot; upper=&quot;1.57&quot; effort=&quot;100&quot; velocity=&quot;1.0&quot;/&gt;
    &lt;dynamics damping=&quot;0.1&quot; friction=&quot;0.0&quot;/&gt;
  &lt;/joint&gt;

  &lt;link name=&quot;left_leg&quot;&gt;
    &lt;visual&gt;
      &lt;geometry&gt;
        &lt;cylinder length=&quot;0.5&quot; radius=&quot;0.05&quot;/&gt;
      &lt;/geometry&gt;
    &lt;/visual&gt;
    &lt;collision&gt;
      &lt;geometry&gt;
        &lt;cylinder length=&quot;0.5&quot; radius=&quot;0.05&quot;/&gt;
      &lt;/geometry&gt;
    &lt;/collision&gt;
    &lt;inertial&gt;
      &lt;mass value=&quot;2.0&quot;/&gt;
      &lt;inertia ixx=&quot;0.05&quot; ixy=&quot;0.0&quot; ixz=&quot;0.0&quot; iyy=&quot;0.05&quot; iyz=&quot;0.0&quot; izz=&quot;0.001&quot;/&gt;
    &lt;/inertial&gt;
  &lt;/link&gt;
&lt;/robot&gt;
</code></pre>
<h2 id="physics-simulation-setup">Physics Simulation Setup</h2>
<h3 id="gravity-and-environment-configuration">Gravity and Environment Configuration</h3>
<p>Gazebo allows detailed configuration of physics properties:</p>
<pre><code class="language-xml">&lt;sdf version=&#x27;1.7&#x27;&gt;
  &lt;world name=&#x27;default&#x27;&gt;
    &lt;physics type=&#x27;ode&#x27;&gt;
      &lt;gravity&gt;0 0 -9.8&lt;/gravity&gt;
      &lt;max_step_size&gt;0.001&lt;/max_step_size&gt;
      &lt;real_time_factor&gt;1.0&lt;/real_time_factor&gt;
      &lt;real_time_update_rate&gt;1000&lt;/real_time_update_rate&gt;
    &lt;/physics&gt;

    &lt;!-- Include a ground plane --&gt;
    &lt;include&gt;
      &lt;uri&gt;model://ground_plane&lt;/uri&gt;
    &lt;/include&gt;

    &lt;!-- Include sun for lighting --&gt;
    &lt;include&gt;
      &lt;uri&gt;model://sun&lt;/uri&gt;
    &lt;/include&gt;
  &lt;/world&gt;
&lt;/sdf&gt;
</code></pre>
<h3 id="sensor-simulation">Sensor Simulation</h3>
<div class="robotics-diagram"><h4>Sensor Simulation in Gazebo</h4><div><p><img src="/img/diagrams/sensor-simulation.svg" alt="Sensor Simulation"></p></div><details><summary>Diagram Description (Alt-text)</summary><p>A diagram showing how sensors are integrated into the Gazebo simulation. The humanoid robot model has multiple sensors attached: a LiDAR on the head, cameras on the torso, IMU sensors distributed across the body, and contact sensors on the feet. Each sensor publishes data to ROS 2 topics. The Gazebo physics engine processes sensor data based on the robot&#x27;s position and the environment.</p></details></div>
<p>Gazebo can simulate various sensors crucial for humanoid robotics:</p>
<h4 id="lidar-sensor">LiDAR Sensor</h4>
<pre><code class="language-xml">&lt;gazebo reference=&quot;lidar_link&quot;&gt;
  &lt;sensor type=&quot;ray&quot; name=&quot;humanoid_lidar&quot;&gt;
    &lt;pose&gt;0 0 0 0 0 0&lt;/pose&gt;
    &lt;visualize&gt;true&lt;/visualize&gt;
    &lt;update_rate&gt;10&lt;/update_rate&gt;
    &lt;ray&gt;
      &lt;scan&gt;
        &lt;horizontal&gt;
          &lt;samples&gt;720&lt;/samples&gt;
          &lt;resolution&gt;1&lt;/resolution&gt;
          &lt;min_angle&gt;-3.14159&lt;/min_angle&gt;
          &lt;max_angle&gt;3.14159&lt;/max_angle&gt;
        &lt;/horizontal&gt;
      &lt;/scan&gt;
      &lt;range&gt;
        &lt;min&gt;0.1&lt;/min&gt;
        &lt;max&gt;30.0&lt;/max&gt;
        &lt;resolution&gt;0.01&lt;/resolution&gt;
      &lt;/range&gt;
    &lt;/ray&gt;
    &lt;plugin name=&quot;lidar_controller&quot; filename=&quot;libgazebo_ros_ray_sensor.so&quot;&gt;
      &lt;ros&gt;
        &lt;namespace&gt;/humanoid_robot&lt;/namespace&gt;
        &lt;remapping&gt;~/out:=scan&lt;/remapping&gt;
      &lt;/ros&gt;
      &lt;output_type&gt;sensor_msgs/LaserScan&lt;/output_type&gt;
    &lt;/plugin&gt;
  &lt;/sensor&gt;
&lt;/gazebo&gt;
</code></pre>
<h4 id="imu-sensor">IMU Sensor</h4>
<pre><code class="language-xml">&lt;gazebo reference=&quot;imu_link&quot;&gt;
  &lt;sensor name=&quot;humanoid_imu&quot; type=&quot;imu&quot;&gt;
    &lt;always_on&gt;true&lt;/always_on&gt;
    &lt;update_rate&gt;100&lt;/update_rate&gt;
    &lt;visualize&gt;false&lt;/visualize&gt;
    &lt;imu&gt;
      &lt;angular_velocity&gt;
        &lt;x&gt;
          &lt;noise type=&quot;gaussian&quot;&gt;
            &lt;mean&gt;0.0&lt;/mean&gt;
            &lt;stddev&gt;2e-4&lt;/stddev&gt;
          &lt;/noise&gt;
        &lt;/x&gt;
        &lt;y&gt;
          &lt;noise type=&quot;gaussian&quot;&gt;
            &lt;mean&gt;0.0&lt;/mean&gt;
            &lt;stddev&gt;2e-4&lt;/stddev&gt;
          &lt;/noise&gt;
        &lt;/y&gt;
        &lt;z&gt;
          &lt;noise type=&quot;gaussian&quot;&gt;
            &lt;mean&gt;0.0&lt;/mean&gt;
            &lt;stddev&gt;2e-4&lt;/stddev&gt;
          &lt;/noise&gt;
        &lt;/z&gt;
      &lt;/angular_velocity&gt;
      &lt;linear_acceleration&gt;
        &lt;x&gt;
          &lt;noise type=&quot;gaussian&quot;&gt;
            &lt;mean&gt;0.0&lt;/mean&gt;
            &lt;stddev&gt;1.7e-2&lt;/stddev&gt;
          &lt;/noise&gt;
        &lt;/x&gt;
        &lt;y&gt;
          &lt;noise type=&quot;gaussian&quot;&gt;
            &lt;mean&gt;0.0&lt;/mean&gt;
            &lt;stddev&gt;1.7e-2&lt;/stddev&gt;
          &lt;/noise&gt;
        &lt;/y&gt;
        &lt;z&gt;
          &lt;noise type=&quot;gaussian&quot;&gt;
            &lt;mean&gt;0.0&lt;/mean&gt;
            &lt;stddev&gt;1.7e-2&lt;/stddev&gt;
          &lt;/noise&gt;
        &lt;/z&gt;
      &lt;/linear_acceleration&gt;
    &lt;/imu&gt;
    &lt;plugin name=&quot;imu_controller&quot; filename=&quot;libgazebo_ros_imu.so&quot;&gt;
      &lt;ros&gt;
        &lt;namespace&gt;/humanoid_robot&lt;/namespace&gt;
        &lt;remapping&gt;~/out:=imu/data&lt;/remapping&gt;
      &lt;/ros&gt;
    &lt;/plugin&gt;
  &lt;/sensor&gt;
&lt;/gazebo&gt;
</code></pre>
<h2 id="unity-integration-for-high-fidelity-visualization">Unity Integration for High-Fidelity Visualization</h2>
<p>Unity provides a high-fidelity 3D environment that can be used alongside Gazebo for more realistic visualization and testing. Unity Robotics provides tools for connecting Unity with ROS 2.</p>
<div class="robotics-diagram"><h4>Simulation Architecture Overview</h4><div><p><img src="/img/diagrams/simulation-architecture.svg" alt="Simulation Architecture"></p></div><details><summary>Diagram Description (Alt-text)</summary><p>A diagram showing the architecture of the simulation system. On the left is the ROS 2 ecosystem with nodes for robot control, sensor processing, and planning. In the center is the Gazebo simulation environment containing the humanoid robot model with various sensors (LiDAR, IMU, cameras). On the right is the Unity visualization environment showing the same robot in a high-fidelity 3D environment. Bidirectional arrows show communication between ROS 2 and both simulation environments.</p></details></div>
<h3 id="unity-ros-2-bridge-setup">Unity-ROS 2 Bridge Setup</h3>
<ol>
<li>Install Unity Hub and Unity Editor (2021.3 LTS or newer)</li>
<li>Import the Unity Robotics Hub package</li>
<li>Use the ROS-TCP-Connector to establish communication between Unity and ROS 2</li>
</ol>
<h3 id="basic-unity-ros-2-connection">Basic Unity-ROS 2 Connection</h3>
<pre><code class="language-csharp">using UnityEngine;
using Unity.Robotics.ROSTCPConnector;
using RosMessageTypes.Sensor;

public class RobotController : MonoBehaviour
{
    private ROSConnection ros;
    private string robotTopic = &quot;/unity_robot/joint_commands&quot;;

    void Start()
    {
        ros = ROSConnection.GetOrCreateInstance();
        ros.RegisterPublisher&lt;JointStateMsg&gt;(robotTopic);
    }

    void Update()
    {
        // Send joint commands to ROS
        var jointMsg = new JointStateMsg();
        jointMsg.name = new string[] { &quot;hip_joint&quot;, &quot;knee_joint&quot; };
        jointMsg.position = new double[] { Mathf.Sin(Time.time), Mathf.Cos(Time.time) };

        ros.Publish(robotTopic, jointMsg);
    }
}
</code></pre>
<h2 id="creating-a-simulation-environment">Creating a Simulation Environment</h2>
<h3 id="launch-file-for-gazebo-simulation">Launch File for Gazebo Simulation</h3>
<p>Create a launch file to start your humanoid robot simulation:</p>
<pre><code class="language-python">import os
from launch import LaunchDescription
from launch.actions import DeclareLaunchArgument, IncludeLaunchDescription
from launch.launch_description_sources import PythonLaunchDescriptionSource
from launch.substitutions import LaunchConfiguration
from launch_ros.actions import Node
from ament_index_python.packages import get_package_share_directory

def generate_launch_description():
    # Get the package directory
    pkg_gazebo_ros = get_package_share_directory(&#x27;gazebo_ros&#x27;)
    pkg_humanoid_description = get_package_share_directory(&#x27;humanoid_description&#x27;)

    # Simulation arguments
    use_sim_time = LaunchConfiguration(&#x27;use_sim_time&#x27;, default=&#x27;true&#x27;)
    world = LaunchConfiguration(&#x27;world&#x27;, default=os.path.join(
        pkg_humanoid_description, &#x27;worlds&#x27;, &#x27;simple_room.sdf&#x27;
    ))

    # Launch Gazebo
    gazebo = IncludeLaunchDescription(
        PythonLaunchDescriptionSource(
            os.path.join(pkg_gazebo_ros, &#x27;launch&#x27;, &#x27;gazebo.launch.py&#x27;)
        ),
        launch_arguments={
            &#x27;world&#x27;: world,
            &#x27;verbose&#x27;: &#x27;false&#x27;,
        }.items()
    )

    # Spawn the robot in Gazebo
    spawn_entity = Node(
        package=&#x27;gazebo_ros&#x27;,
        executable=&#x27;spawn_entity.py&#x27;,
        arguments=[
            &#x27;-topic&#x27;, &#x27;robot_description&#x27;,
            &#x27;-entity&#x27;, &#x27;humanoid_robot&#x27;
        ],
        output=&#x27;screen&#x27;
    )

    return LaunchDescription([
        DeclareLaunchArgument(
            &#x27;use_sim_time&#x27;,
            default_value=&#x27;true&#x27;,
            description=&#x27;Use simulation (Gazebo) clock if true&#x27;
        ),
        DeclareLaunchArgument(
            &#x27;world&#x27;,
            default_value=os.path.join(pkg_humanoid_description, &#x27;worlds&#x27;, &#x27;simple_room.sdf&#x27;),
            description=&#x27;SDF world file&#x27;
        ),
        gazebo,
        spawn_entity,
    ])
</code></pre>
<h2 id="running-the-simulation">Running the Simulation</h2>
<h3 id="starting-the-simulation">Starting the Simulation</h3>
<ol>
<li>
<p>Build your ROS 2 workspace:</p>
<pre><code class="language-bash">cd ~/ros2_ws
colcon build --packages-select humanoid_description
source install/setup.bash
</code></pre>
</li>
<li>
<p>Launch the simulation:</p>
<pre><code class="language-bash">ros2 launch humanoid_description.launch.py
</code></pre>
</li>
<li>
<p>In another terminal, run RViz to visualize the robot:</p>
<pre><code class="language-bash">rviz2
</code></pre>
</li>
</ol>
<h3 id="verifying-sensor-data">Verifying Sensor Data</h3>
<p>Check that your simulated sensors are publishing data:</p>
<pre><code class="language-bash"># Check available topics
ros2 topic list

# View LiDAR data
ros2 topic echo /humanoid_robot/scan

# View IMU data
ros2 topic echo /humanoid_robot/imu/data
</code></pre>
<h2 id="practice-tasks">Practice Tasks</h2>
<ol>
<li>Create a complete URDF model for a simple humanoid robot with at least 10 joints</li>
<li>Set up a Gazebo simulation environment with obstacles</li>
<li>Add a LiDAR sensor to your robot and verify it publishes scan data</li>
<li>Implement a simple walking gait simulation using joint position control</li>
<li>Create a Unity scene that mirrors the Gazebo simulation with the same robot model</li>
</ol>
<h2 id="summary">Summary</h2>
<p>In this chapter, you&#x27;ve learned how to create and work with digital twins of humanoid robots using Gazebo and Unity. You now understand:</p>
<ul>
<li>How to set up physics simulation environments</li>
<li>How to integrate sensors into your robot models</li>
<li>How to connect simulation environments with ROS 2</li>
<li>How to verify that your simulated robot behaves as expected</li>
</ul>
<p>Digital twins are essential for developing and testing humanoid robots safely and efficiently. The skills you&#x27;ve learned in this chapter will be crucial as you move on to implementing AI control systems in the next chapter.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/Ayesha788/my_book/tree/main/docs/chapter2-digital-twin.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/my_book/docs/chapter1-ros2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Chapter 1: ROS 2 Fundamentals - The Robotic Nervous System</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/my_book/docs/chapter3-isaac"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chapter 3: AI-Robot Brain - NVIDIA Isaac Integration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction-to-digital-twin-technology" class="table-of-contents__link toc-highlight">Introduction to Digital Twin Technology</a></li><li><a href="#gazebo-simulation-environment" class="table-of-contents__link toc-highlight">Gazebo Simulation Environment</a><ul><li><a href="#key-features-of-gazebo" class="table-of-contents__link toc-highlight">Key Features of Gazebo:</a></li><li><a href="#installing-gazebo-with-ros-2" class="table-of-contents__link toc-highlight">Installing Gazebo with ROS 2</a></li></ul></li><li><a href="#setting-up-a-humanoid-robot-in-gazebo" class="table-of-contents__link toc-highlight">Setting up a Humanoid Robot in Gazebo</a><ul><li><a href="#robot-configuration" class="table-of-contents__link toc-highlight">Robot Configuration</a></li><li><a href="#example-gazebo-integration-in-urdf" class="table-of-contents__link toc-highlight">Example Gazebo Integration in URDF</a></li></ul></li><li><a href="#physics-simulation-setup" class="table-of-contents__link toc-highlight">Physics Simulation Setup</a><ul><li><a href="#gravity-and-environment-configuration" class="table-of-contents__link toc-highlight">Gravity and Environment Configuration</a></li><li><a href="#sensor-simulation" class="table-of-contents__link toc-highlight">Sensor Simulation</a></li></ul></li><li><a href="#unity-integration-for-high-fidelity-visualization" class="table-of-contents__link toc-highlight">Unity Integration for High-Fidelity Visualization</a><ul><li><a href="#unity-ros-2-bridge-setup" class="table-of-contents__link toc-highlight">Unity-ROS 2 Bridge Setup</a></li><li><a href="#basic-unity-ros-2-connection" class="table-of-contents__link toc-highlight">Basic Unity-ROS 2 Connection</a></li></ul></li><li><a href="#creating-a-simulation-environment" class="table-of-contents__link toc-highlight">Creating a Simulation Environment</a><ul><li><a href="#launch-file-for-gazebo-simulation" class="table-of-contents__link toc-highlight">Launch File for Gazebo Simulation</a></li></ul></li><li><a href="#running-the-simulation" class="table-of-contents__link toc-highlight">Running the Simulation</a><ul><li><a href="#starting-the-simulation" class="table-of-contents__link toc-highlight">Starting the Simulation</a></li><li><a href="#verifying-sensor-data" class="table-of-contents__link toc-highlight">Verifying Sensor Data</a></li></ul></li><li><a href="#practice-tasks" class="table-of-contents__link toc-highlight">Practice Tasks</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Chapters</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/my_book/docs/chapter1-ros2">ROS 2 Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/my_book/docs/chapter2-digital-twin">Digital Twin</a></li><li class="footer__item"><a class="footer__link-item" href="/my_book/docs/chapter3-isaac">AI-Robot Brain</a></li><li class="footer__item"><a class="footer__link-item" href="/my_book/docs/chapter4-vla">Vision-Language-Action</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ros2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://answers.ros.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ROS Answers<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://developer.nvidia.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">NVIDIA Developer<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Ayesha788/my_book" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Physical AI & Humanoid Robotics Hackathon Project. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>